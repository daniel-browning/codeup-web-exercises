<!DOCTYPE html>
<html>
<head>
    <title>Online Store</title>

<!--Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <style>
        body {
            margin: 15px;
        }
    </style>
</head>
<body>

<h1 class = "text-center">My Tool Store</h1>

<!--Table -->
<table class = "table" id="products">
    <thead>
    <tr>
        <th>Title</th>
        <th>Quantity</th>
        <th>Price</th>
        <th>Categories</th>
    </tr>
    </thead>
    <tbody id="insertProducts"></tbody>
</table>

<!--Button to refresh -->

<button class = "btn-primary btn-block" id ="page-reload">Refresh</button>

<!-- ajax and jQuery script sources -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>


<script>
    (function() {
        "use strict";
        // TODO: Create an ajax GET request for /data/inventory.json
//Get
        let JSONobj = $.get("data/inventory.json", {
            "title": "Hammer",
            "quantity": 23,
            "categories": [
                "tool"
            ],
            "price": 23
        }).done(function(data) {
            console.log(data);
        });


        // TODO: Take the data from inventory.json and append it to the products table
        //       HINT: Your data should come back as a JSON object; use console.log() to inspect
        //             its contents and fields
        //       HINT: You will want to target #insertProducts for your new HTML elements
        //Sample JSON Object (array of json objects)
//Table
        $(document).ready(function () {
            $.getJSON("data/inventory.json",
                function (json) {
                    var tr = [];
                    for (var i = 0; i < json.length; i++) {
                        tr.push('<tr>');
                        tr.push("<td>" + json[i].title + "</td>");
                        tr.push("<td>" + json[i].quantity + "</td>");
                        tr.push("<td>" + json[i].price + "</td>");
                        tr.push("<td>" + json[i].categories + "</td>");
                        tr.push('</tr>');
                    }
                    $('table').append($(tr.join('')));
                });
        }); //end of function

//Button to reload data
        $('#page-reload').click(function(data) {
            location.reload();
        });
    })();
</script>

</body>
</html>
