<!DOCTYPE html>
<html>
<head>
    <title>Online Store</title>
</head>
<body>

<h1>My Tool Store</h1>

<table id="products">
    <thead>
    <tr>
        <th>Title</th>
        <th>Quantity</th>
        <th>Price</th>
        <th>Categories</th>
    </tr>
    </thead>
    <tbody id="insertProducts"></tbody>
</table>

<!-- ajax and jQuery script sources -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>


<script>
    (function() {
        "use strict";
        // TODO: Create an ajax GET request for /data/inventory.json

        var inventory = $.get("data/inventory.json", {
            quantity:  23,
            categories: ["tool"]
        }).done(function(data) {
            console.log(data);
            return inventory;
        });
        //$("#insertProducts").text(title);


        // TODO: Take the data from inventory.json and append it to the products table
        //       HINT: Your data should come back as a JSON object; use console.log() to inspect
        //             its contents and fields
        //       HINT: You will want to target #insertProducts for your new HTML elements
        //Sample JSON Object (array of json objects)

        var jsondata=$.parseJSON('{"data":[["title[0]","quantity[0]","price[0]", "categories[0]"]]}');

        $.each(jsondata.data, function(i, d) {
            var row='<tr>';
            $.each(d, function(j, e) {
                row+='<td>'+e+'</td>';
            });
            row+='</tr>';
            $('#insertProducts tbody').append(row);
        });
// //implementation
//         function jsonToHtmlTable(inventory, selector) {
//             addColumns(inventory, selector);
//             addRows(inventory, selector);
//         }
//
//         function addColumns(inventory, selector) {
//             if (!$.isArray(inventory) || inventory.length < 1)
//                 return;
//             var object = inventory[0];
//             var theadHtml = "";
//             for (var property in object) {
//                 if (object.hasOwnProperty(property))
//                     theadHtml += "<th>" + property + "</th>";
//             }
//             $(selector + ' thead tr').html(theadHtml);
//         }
//
//         function addRows() {
//             var tbody = $(selector + ' tbody');
//             $.each(inventory, function (i, d) {
//                 var row = '<tr>';
//                 $.each(d, function (j, e) {
//                     row += '<td>' + e + '</td>';
//                 });
//                 row += '</tr>';
//                 tbody.append(row);
//             });
//         }
    })();
</script>

</body>
</html>
